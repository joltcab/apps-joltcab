{"dependencies":[{"name":"./ai/EmergentIAProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":48},"end":{"line":2,"column":61,"index":109}}],"key":"9V18Na603X5FOZzfvxIJZ6YJolo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"aiService\", {\n    enumerable: true,\n    get: function () {\n      return aiService;\n    }\n  });\n  var _aiEmergentIAProvider = require(_dependencyMap[0], \"./ai/EmergentIAProvider\");\n  // URLs base para servicios de IA\n  const EMERGENT_IA_URL = 'https://admin.joltcab.com/api/v1';\n  const EMERGENT_IA_URL_DEV = 'https://0ei9df5g.up.railway.app/api/v1';\n\n  // Usar production por defecto\n  const BASE_URL = EMERGENT_IA_URL;\n\n  // Tipos para los servicios de IA\n\n  class AIService {\n    constructor() {\n      // Por defecto usamos Emergent IA Provider\n      this.provider = new _aiEmergentIAProvider.EmergentIAProvider(false); // false = production\n    }\n\n    /**\n     * Cambiar proveedor de IA (para futura flexibilidad)\n     */\n    setProvider(provider) {\n      this.provider = provider;\n      console.log(`üîÑ AI Provider changed to: ${provider.name}`);\n    }\n\n    /**\n     * Obtener nombre del proveedor actual\n     */\n    getCurrentProvider() {\n      return this.provider.name;\n    }\n\n    /**\n     * Calcular precio din√°mico con IA\n     */\n    async calculateDynamicPrice(data) {\n      try {\n        console.log('üí∞ Calculating dynamic price with AI...');\n        const response = await fetch(`${BASE_URL}/ai/dynamic-pricing-advanced`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const result = await response.json();\n        if (result.success) {\n          console.log('‚úÖ Dynamic price calculated:', result.final_price);\n          return result;\n        }\n        throw new Error('Failed to calculate price');\n      } catch (error) {\n        console.error('‚ùå Dynamic pricing error:', error.message);\n\n        // Fallback a c√°lculo simple\n        const distance = this.calculateDistance(data.pickup_lat, data.pickup_lng, data.dropoff_lat, data.dropoff_lng);\n        const basePrice = 5 + distance * 2.5;\n        return {\n          success: true,\n          final_price: Math.round(basePrice * 100) / 100,\n          base_price: basePrice,\n          surge_multiplier: 1,\n          factors: {\n            distance_km: distance,\n            duration_min: Math.round(distance * 3),\n            time_factor: 1,\n            demand_factor: 1,\n            weather_factor: 1,\n            traffic_factor: 1\n          },\n          explanation: 'Using fallback pricing calculation'\n        };\n      }\n    }\n\n    /**\n     * Chat con soporte IA usando el proveedor configurado\n     */\n    async sendMessage(data) {\n      try {\n        console.log(`üí¨ Sending message via ${this.provider.name}...`);\n        return await this.provider.sendMessage(data.message, data.userId || data.user_email, data.conversationId);\n      } catch (error) {\n        console.error('‚ùå AI chat error:', error.message);\n\n        // Fallback response\n        return {\n          success: true,\n          response: 'Lo siento, el servicio de chat no est√° disponible en este momento. Por favor intenta m√°s tarde o contacta a support@joltcab.com',\n          timestamp: new Date().toISOString()\n        };\n      }\n    }\n\n    /**\n     * Obtener historial de chat\n     */\n    async getHistory(data) {\n      try {\n        console.log('üìã Getting chat history...');\n        if (this.provider.getHistory) {\n          return await this.provider.getHistory(data.userId || '', data.conversationId, data.limit);\n        }\n\n        // Si el proveedor no tiene getHistory, devolver vac√≠o\n        return {\n          success: false,\n          messages: []\n        };\n      } catch (error) {\n        console.error('‚ùå Get history error:', error.message);\n        return {\n          success: false,\n          messages: []\n        };\n      }\n    }\n\n    /**\n     * Enviar notificaci√≥n por WhatsApp\n     */\n    async sendWhatsAppNotification(data) {\n      try {\n        console.log('üì± Sending WhatsApp notification...');\n        const response = await fetch(`${BASE_URL}/whatsapp/notify`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const result = await response.json();\n        console.log('‚úÖ WhatsApp notification sent');\n        return result;\n      } catch (error) {\n        console.error('‚ùå WhatsApp notification error:', error.message);\n        throw error;\n      }\n    }\n\n    /**\n     * Crear booking por WhatsApp\n     */\n    async createWhatsAppBooking(data) {\n      try {\n        console.log('üöï Creating WhatsApp booking...');\n        const response = await fetch(`${BASE_URL}/whatsapp/booking`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        const result = await response.json();\n        console.log('‚úÖ WhatsApp booking created');\n        return result;\n      } catch (error) {\n        console.error('‚ùå WhatsApp booking error:', error.message);\n\n        // Generar URL de WhatsApp manualmente como fallback\n        const whatsappNumber = '+14707484747';\n        const message = `Hola! Necesito un viaje:\\n\\nüìç Origen: ${data.pickup_address}\\nüìç Destino: ${data.dropoff_address}\\n\\n¬øPueden ayudarme?`;\n        const whatsappUrl = `https://wa.me/${whatsappNumber.replace('+', '')}?text=${encodeURIComponent(message)}`;\n        return {\n          success: true,\n          booking_id: 'fallback-' + Date.now(),\n          whatsapp_url: whatsappUrl\n        };\n      }\n    }\n\n    /**\n     * Generar link de WhatsApp para compartir viaje\n     */\n    generateWhatsAppShareLink(tripData) {\n      const whatsappNumber = '+14707484747';\n      const message = `üöï Compartiendo mi viaje de JoltCab:\\n\\nüìç Origen: ${tripData.pickup_address}\\nüìç Destino: ${tripData.dropoff_address}${tripData.driver_name ? `\\nüë§ Conductor: ${tripData.driver_name}` : ''}${tripData.estimated_time ? `\\n‚è±Ô∏è Tiempo estimado: ${tripData.estimated_time}` : ''}`;\n      return `https://wa.me/${whatsappNumber.replace('+', '')}?text=${encodeURIComponent(message)}`;\n    }\n\n    /**\n     * Calcular distancia entre dos puntos (Haversine)\n     */\n    calculateDistance(lat1, lng1, lat2, lng2) {\n      const R = 6371; // Radio de la Tierra en km\n      const dLat = (lat2 - lat1) * Math.PI / 180;\n      const dLng = (lng2 - lng1) * Math.PI / 180;\n      const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLng / 2) * Math.sin(dLng / 2);\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      const distance = R * c;\n      return Math.round(distance * 100) / 100;\n    }\n  }\n  const aiService = new AIService();\n});","lineCount":206,"map":[[7,2,301,0,"Object"],[7,8,301,0],[7,9,301,0,"defineProperty"],[7,23,301,0],[7,24,301,0,"exports"],[7,31,301,0],[8,4,301,0,"enumerable"],[8,14,301,0],[9,4,301,0,"get"],[9,7,301,0],[9,18,301,0,"get"],[9,19,301,0],[10,6,301,0],[10,13,301,0,"aiService"],[10,22,301,0],[11,4,301,0],[12,2,301,0],[13,2,2,0],[13,6,2,0,"_aiEmergentIAProvider"],[13,27,2,0],[13,30,2,0,"require"],[13,37,2,0],[13,38,2,0,"_dependencyMap"],[13,52,2,0],[14,2,4,0],[15,2,5,0],[15,8,5,6,"EMERGENT_IA_URL"],[15,23,5,21],[15,26,5,24],[15,60,5,58],[16,2,6,0],[16,8,6,6,"EMERGENT_IA_URL_DEV"],[16,27,6,25],[16,30,6,28],[16,70,6,68],[18,2,8,0],[19,2,9,0],[19,8,9,6,"BASE_URL"],[19,16,9,14],[19,19,9,17,"EMERGENT_IA_URL"],[19,34,9,32],[21,2,11,0],[23,2,78,0],[23,8,78,6,"AIService"],[23,17,78,15],[23,18,78,16],[24,4,81,2,"constructor"],[24,15,81,13,"constructor"],[24,16,81,13],[24,18,81,16],[25,6,82,4],[26,6,83,4],[26,10,83,8],[26,11,83,9,"provider"],[26,19,83,17],[26,22,83,20],[26,26,83,24,"EmergentIAProvider"],[26,47,83,42],[26,48,83,42,"EmergentIAProvider"],[26,66,83,42],[26,67,83,43],[26,72,83,48],[26,73,83,49],[26,74,83,50],[26,75,83,51],[27,4,84,2],[29,4,86,2],[30,0,87,0],[31,0,88,0],[32,4,89,2,"setProvider"],[32,15,89,13,"setProvider"],[32,16,89,14,"provider"],[32,24,89,35],[32,26,89,37],[33,6,90,4],[33,10,90,8],[33,11,90,9,"provider"],[33,19,90,17],[33,22,90,20,"provider"],[33,30,90,28],[34,6,91,4,"console"],[34,13,91,11],[34,14,91,12,"log"],[34,17,91,15],[34,18,91,16],[34,48,91,46,"provider"],[34,56,91,54],[34,57,91,55,"name"],[34,61,91,59],[34,63,91,61],[34,64,91,62],[35,4,92,2],[37,4,94,2],[38,0,95,0],[39,0,96,0],[40,4,97,2,"getCurrentProvider"],[40,22,97,20,"getCurrentProvider"],[40,23,97,20],[40,25,97,31],[41,6,98,4],[41,13,98,11],[41,17,98,15],[41,18,98,16,"provider"],[41,26,98,24],[41,27,98,25,"name"],[41,31,98,29],[42,4,99,2],[44,4,101,2],[45,0,102,0],[46,0,103,0],[47,4,104,2],[47,10,104,8,"calculateDynamicPrice"],[47,31,104,29,"calculateDynamicPrice"],[47,32,104,30,"data"],[47,36,104,57],[47,38,104,92],[48,6,105,4],[48,10,105,8],[49,8,106,6,"console"],[49,15,106,13],[49,16,106,14,"log"],[49,19,106,17],[49,20,106,18],[49,61,106,59],[49,62,106,60],[50,8,107,6],[50,14,107,12,"response"],[50,22,107,20],[50,25,107,23],[50,31,107,29,"fetch"],[50,36,107,34],[50,37,107,35],[50,40,107,38,"BASE_URL"],[50,48,107,46],[50,78,107,76],[50,80,107,78],[51,10,108,8,"method"],[51,16,108,14],[51,18,108,16],[51,24,108,22],[52,10,109,8,"headers"],[52,17,109,15],[52,19,109,17],[53,12,110,10],[53,26,110,24],[53,28,110,26],[54,10,111,8],[54,11,111,9],[55,10,112,8,"body"],[55,14,112,12],[55,16,112,14,"JSON"],[55,20,112,18],[55,21,112,19,"stringify"],[55,30,112,28],[55,31,112,29,"data"],[55,35,112,33],[56,8,113,6],[56,9,113,7],[56,10,113,8],[57,8,115,6],[57,14,115,12,"result"],[57,20,115,18],[57,23,115,21],[57,29,115,27,"response"],[57,37,115,35],[57,38,115,36,"json"],[57,42,115,40],[57,43,115,41],[57,44,115,42],[58,8,117,6],[58,12,117,10,"result"],[58,18,117,16],[58,19,117,17,"success"],[58,26,117,24],[58,28,117,26],[59,10,118,8,"console"],[59,17,118,15],[59,18,118,16,"log"],[59,21,118,19],[59,22,118,20],[59,51,118,49],[59,53,118,51,"result"],[59,59,118,57],[59,60,118,58,"final_price"],[59,71,118,69],[59,72,118,70],[60,10,119,8],[60,17,119,15,"result"],[60,23,119,21],[61,8,120,6],[62,8,122,6],[62,14,122,12],[62,18,122,16,"Error"],[62,23,122,21],[62,24,122,22],[62,51,122,49],[62,52,122,50],[63,6,123,4],[63,7,123,5],[63,8,123,6],[63,15,123,13,"error"],[63,20,123,23],[63,22,123,25],[64,8,124,6,"console"],[64,15,124,13],[64,16,124,14,"error"],[64,21,124,19],[64,22,124,20],[64,48,124,46],[64,50,124,48,"error"],[64,55,124,53],[64,56,124,54,"message"],[64,63,124,61],[64,64,124,62],[66,8,126,6],[67,8,127,6],[67,14,127,12,"distance"],[67,22,127,20],[67,25,127,23],[67,29,127,27],[67,30,127,28,"calculateDistance"],[67,47,127,45],[67,48,128,8,"data"],[67,52,128,12],[67,53,128,13,"pickup_lat"],[67,63,128,23],[67,65,129,8,"data"],[67,69,129,12],[67,70,129,13,"pickup_lng"],[67,80,129,23],[67,82,130,8,"data"],[67,86,130,12],[67,87,130,13,"dropoff_lat"],[67,98,130,24],[67,100,131,8,"data"],[67,104,131,12],[67,105,131,13,"dropoff_lng"],[67,116,132,6],[67,117,132,7],[68,8,134,6],[68,14,134,12,"basePrice"],[68,23,134,21],[68,26,134,24],[68,27,134,25],[68,30,134,28,"distance"],[68,38,134,36],[68,41,134,39],[68,44,134,42],[69,8,136,6],[69,15,136,13],[70,10,137,8,"success"],[70,17,137,15],[70,19,137,17],[70,23,137,21],[71,10,138,8,"final_price"],[71,21,138,19],[71,23,138,21,"Math"],[71,27,138,25],[71,28,138,26,"round"],[71,33,138,31],[71,34,138,32,"basePrice"],[71,43,138,41],[71,46,138,44],[71,49,138,47],[71,50,138,48],[71,53,138,51],[71,56,138,54],[72,10,139,8,"base_price"],[72,20,139,18],[72,22,139,20,"basePrice"],[72,31,139,29],[73,10,140,8,"surge_multiplier"],[73,26,140,24],[73,28,140,26],[73,29,140,27],[74,10,141,8,"factors"],[74,17,141,15],[74,19,141,17],[75,12,142,10,"distance_km"],[75,23,142,21],[75,25,142,23,"distance"],[75,33,142,31],[76,12,143,10,"duration_min"],[76,24,143,22],[76,26,143,24,"Math"],[76,30,143,28],[76,31,143,29,"round"],[76,36,143,34],[76,37,143,35,"distance"],[76,45,143,43],[76,48,143,46],[76,49,143,47],[76,50,143,48],[77,12,144,10,"time_factor"],[77,23,144,21],[77,25,144,23],[77,26,144,24],[78,12,145,10,"demand_factor"],[78,25,145,23],[78,27,145,25],[78,28,145,26],[79,12,146,10,"weather_factor"],[79,26,146,24],[79,28,146,26],[79,29,146,27],[80,12,147,10,"traffic_factor"],[80,26,147,24],[80,28,147,26],[81,10,148,8],[81,11,148,9],[82,10,149,8,"explanation"],[82,21,149,19],[82,23,149,21],[83,8,150,6],[83,9,150,7],[84,6,151,4],[85,4,152,2],[87,4,154,2],[88,0,155,0],[89,0,156,0],[90,4,157,2],[90,10,157,8,"sendMessage"],[90,21,157,19,"sendMessage"],[90,22,157,20,"data"],[90,26,157,37],[90,28,157,62],[91,6,158,4],[91,10,158,8],[92,8,159,6,"console"],[92,15,159,13],[92,16,159,14,"log"],[92,19,159,17],[92,20,159,18],[92,46,159,44],[92,50,159,48],[92,51,159,49,"provider"],[92,59,159,57],[92,60,159,58,"name"],[92,64,159,62],[92,69,159,67],[92,70,159,68],[93,8,160,6],[93,15,160,13],[93,21,160,19],[93,25,160,23],[93,26,160,24,"provider"],[93,34,160,32],[93,35,160,33,"sendMessage"],[93,46,160,44],[93,47,161,8,"data"],[93,51,161,12],[93,52,161,13,"message"],[93,59,161,20],[93,61,162,8,"data"],[93,65,162,12],[93,66,162,13,"userId"],[93,72,162,19],[93,76,162,23,"data"],[93,80,162,27],[93,81,162,28,"user_email"],[93,91,162,38],[93,93,163,8,"data"],[93,97,163,12],[93,98,163,13,"conversationId"],[93,112,164,6],[93,113,164,7],[94,6,165,4],[94,7,165,5],[94,8,165,6],[94,15,165,13,"error"],[94,20,165,23],[94,22,165,25],[95,8,166,6,"console"],[95,15,166,13],[95,16,166,14,"error"],[95,21,166,19],[95,22,166,20],[95,40,166,38],[95,42,166,40,"error"],[95,47,166,45],[95,48,166,46,"message"],[95,55,166,53],[95,56,166,54],[97,8,168,6],[98,8,169,6],[98,15,169,13],[99,10,170,8,"success"],[99,17,170,15],[99,19,170,17],[99,23,170,21],[100,10,171,8,"response"],[100,18,171,16],[100,20,171,18],[100,149,171,147],[101,10,172,8,"timestamp"],[101,19,172,17],[101,21,172,19],[101,25,172,23,"Date"],[101,29,172,27],[101,30,172,28],[101,31,172,29],[101,32,172,30,"toISOString"],[101,43,172,41],[101,44,172,42],[102,8,173,6],[102,9,173,7],[103,6,174,4],[104,4,175,2],[106,4,177,2],[107,0,178,0],[108,0,179,0],[109,4,180,2],[109,10,180,8,"getHistory"],[109,20,180,18,"getHistory"],[109,21,180,19,"data"],[109,25,180,43],[109,27,180,93],[110,6,181,4],[110,10,181,8],[111,8,182,6,"console"],[111,15,182,13],[111,16,182,14,"log"],[111,19,182,17],[111,20,182,18],[111,48,182,46],[111,49,182,47],[112,8,184,6],[112,12,184,10],[112,16,184,14],[112,17,184,15,"provider"],[112,25,184,23],[112,26,184,24,"getHistory"],[112,36,184,34],[112,38,184,36],[113,10,185,8],[113,17,185,15],[113,23,185,21],[113,27,185,25],[113,28,185,26,"provider"],[113,36,185,34],[113,37,185,35,"getHistory"],[113,47,185,45],[113,48,186,10,"data"],[113,52,186,14],[113,53,186,15,"userId"],[113,59,186,21],[113,63,186,25],[113,65,186,27],[113,67,187,10,"data"],[113,71,187,14],[113,72,187,15,"conversationId"],[113,86,187,29],[113,88,188,10,"data"],[113,92,188,14],[113,93,188,15,"limit"],[113,98,189,8],[113,99,189,9],[114,8,190,6],[116,8,192,6],[117,8,193,6],[117,15,193,13],[118,10,194,8,"success"],[118,17,194,15],[118,19,194,17],[118,24,194,22],[119,10,195,8,"messages"],[119,18,195,16],[119,20,195,18],[120,8,196,6],[120,9,196,7],[121,6,197,4],[121,7,197,5],[121,8,197,6],[121,15,197,13,"error"],[121,20,197,23],[121,22,197,25],[122,8,198,6,"console"],[122,15,198,13],[122,16,198,14,"error"],[122,21,198,19],[122,22,198,20],[122,44,198,42],[122,46,198,44,"error"],[122,51,198,49],[122,52,198,50,"message"],[122,59,198,57],[122,60,198,58],[123,8,199,6],[123,15,199,13],[124,10,200,8,"success"],[124,17,200,15],[124,19,200,17],[124,24,200,22],[125,10,201,8,"messages"],[125,18,201,16],[125,20,201,18],[126,8,202,6],[126,9,202,7],[127,6,203,4],[128,4,204,2],[130,4,206,2],[131,0,207,0],[132,0,208,0],[133,4,209,2],[133,10,209,8,"sendWhatsAppNotification"],[133,34,209,32,"sendWhatsAppNotification"],[133,35,209,33,"data"],[133,39,209,59],[133,41,209,109],[134,6,210,4],[134,10,210,8],[135,8,211,6,"console"],[135,15,211,13],[135,16,211,14,"log"],[135,19,211,17],[135,20,211,18],[135,57,211,55],[135,58,211,56],[136,8,212,6],[136,14,212,12,"response"],[136,22,212,20],[136,25,212,23],[136,31,212,29,"fetch"],[136,36,212,34],[136,37,212,35],[136,40,212,38,"BASE_URL"],[136,48,212,46],[136,66,212,64],[136,68,212,66],[137,10,213,8,"method"],[137,16,213,14],[137,18,213,16],[137,24,213,22],[138,10,214,8,"headers"],[138,17,214,15],[138,19,214,17],[139,12,215,10],[139,26,215,24],[139,28,215,26],[140,10,216,8],[140,11,216,9],[141,10,217,8,"body"],[141,14,217,12],[141,16,217,14,"JSON"],[141,20,217,18],[141,21,217,19,"stringify"],[141,30,217,28],[141,31,217,29,"data"],[141,35,217,33],[142,8,218,6],[142,9,218,7],[142,10,218,8],[143,8,220,6],[143,14,220,12,"result"],[143,20,220,18],[143,23,220,21],[143,29,220,27,"response"],[143,37,220,35],[143,38,220,36,"json"],[143,42,220,40],[143,43,220,41],[143,44,220,42],[144,8,222,6,"console"],[144,15,222,13],[144,16,222,14,"log"],[144,19,222,17],[144,20,222,18],[144,50,222,48],[144,51,222,49],[145,8,223,6],[145,15,223,13,"result"],[145,21,223,19],[146,6,224,4],[146,7,224,5],[146,8,224,6],[146,15,224,13,"error"],[146,20,224,23],[146,22,224,25],[147,8,225,6,"console"],[147,15,225,13],[147,16,225,14,"error"],[147,21,225,19],[147,22,225,20],[147,54,225,52],[147,56,225,54,"error"],[147,61,225,59],[147,62,225,60,"message"],[147,69,225,67],[147,70,225,68],[148,8,226,6],[148,14,226,12,"error"],[148,19,226,17],[149,6,227,4],[150,4,228,2],[152,4,230,2],[153,0,231,0],[154,0,232,0],[155,4,233,2],[155,10,233,8,"createWhatsAppBooking"],[155,31,233,29,"createWhatsAppBooking"],[155,32,233,30,"data"],[155,36,233,51],[155,38,233,126],[156,6,234,4],[156,10,234,8],[157,8,235,6,"console"],[157,15,235,13],[157,16,235,14,"log"],[157,19,235,17],[157,20,235,18],[157,53,235,51],[157,54,235,52],[158,8,236,6],[158,14,236,12,"response"],[158,22,236,20],[158,25,236,23],[158,31,236,29,"fetch"],[158,36,236,34],[158,37,236,35],[158,40,236,38,"BASE_URL"],[158,48,236,46],[158,67,236,65],[158,69,236,67],[159,10,237,8,"method"],[159,16,237,14],[159,18,237,16],[159,24,237,22],[160,10,238,8,"headers"],[160,17,238,15],[160,19,238,17],[161,12,239,10],[161,26,239,24],[161,28,239,26],[162,10,240,8],[162,11,240,9],[163,10,241,8,"body"],[163,14,241,12],[163,16,241,14,"JSON"],[163,20,241,18],[163,21,241,19,"stringify"],[163,30,241,28],[163,31,241,29,"data"],[163,35,241,33],[164,8,242,6],[164,9,242,7],[164,10,242,8],[165,8,244,6],[165,14,244,12,"result"],[165,20,244,18],[165,23,244,21],[165,29,244,27,"response"],[165,37,244,35],[165,38,244,36,"json"],[165,42,244,40],[165,43,244,41],[165,44,244,42],[166,8,246,6,"console"],[166,15,246,13],[166,16,246,14,"log"],[166,19,246,17],[166,20,246,18],[166,48,246,46],[166,49,246,47],[167,8,247,6],[167,15,247,13,"result"],[167,21,247,19],[168,6,248,4],[168,7,248,5],[168,8,248,6],[168,15,248,13,"error"],[168,20,248,23],[168,22,248,25],[169,8,249,6,"console"],[169,15,249,13],[169,16,249,14,"error"],[169,21,249,19],[169,22,249,20],[169,49,249,47],[169,51,249,49,"error"],[169,56,249,54],[169,57,249,55,"message"],[169,64,249,62],[169,65,249,63],[171,8,251,6],[172,8,252,6],[172,14,252,12,"whatsappNumber"],[172,28,252,26],[172,31,252,29],[172,45,252,43],[173,8,253,6],[173,14,253,12,"message"],[173,21,253,19],[173,24,253,22],[173,66,253,64,"data"],[173,70,253,68],[173,71,253,69,"pickup_address"],[173,85,253,83],[173,102,253,100,"data"],[173,106,253,104],[173,107,253,105,"dropoff_address"],[173,122,253,120],[173,145,253,143],[174,8,254,6],[174,14,254,12,"whatsappUrl"],[174,25,254,23],[174,28,254,26],[174,45,254,43,"whatsappNumber"],[174,59,254,57],[174,60,254,58,"replace"],[174,67,254,65],[174,68,254,66],[174,71,254,69],[174,73,254,71],[174,75,254,73],[174,76,254,74],[174,85,254,83,"encodeURIComponent"],[174,103,254,101],[174,104,254,102,"message"],[174,111,254,109],[174,112,254,110],[174,114,254,112],[175,8,256,6],[175,15,256,13],[176,10,257,8,"success"],[176,17,257,15],[176,19,257,17],[176,23,257,21],[177,10,258,8,"booking_id"],[177,20,258,18],[177,22,258,20],[177,33,258,31],[177,36,258,34,"Date"],[177,40,258,38],[177,41,258,39,"now"],[177,44,258,42],[177,45,258,43],[177,46,258,44],[178,10,259,8,"whatsapp_url"],[178,22,259,20],[178,24,259,22,"whatsappUrl"],[179,8,260,6],[179,9,260,7],[180,6,261,4],[181,4,262,2],[183,4,264,2],[184,0,265,0],[185,0,266,0],[186,4,267,2,"generateWhatsAppShareLink"],[186,29,267,27,"generateWhatsAppShareLink"],[186,30,267,28,"tripData"],[186,38,272,3],[186,40,272,13],[187,6,273,4],[187,12,273,10,"whatsappNumber"],[187,26,273,24],[187,29,273,27],[187,43,273,41],[188,6,274,4],[188,12,274,10,"message"],[188,19,274,17],[188,22,274,20],[188,76,274,74,"tripData"],[188,84,274,82],[188,85,274,83,"pickup_address"],[188,99,274,97],[188,116,274,114,"tripData"],[188,124,274,122],[188,125,274,123,"dropoff_address"],[188,140,274,138],[188,143,274,141,"tripData"],[188,151,274,149],[188,152,274,150,"driver_name"],[188,163,274,161],[188,166,274,164],[188,185,274,183,"tripData"],[188,193,274,191],[188,194,274,192,"driver_name"],[188,205,274,203],[188,207,274,205],[188,210,274,208],[188,212,274,210],[188,215,274,213,"tripData"],[188,223,274,221],[188,224,274,222,"estimated_time"],[188,238,274,236],[188,241,274,239],[188,266,274,264,"tripData"],[188,274,274,272],[188,275,274,273,"estimated_time"],[188,289,274,287],[188,291,274,289],[188,294,274,292],[188,296,274,294],[188,298,274,296],[189,6,276,4],[189,13,276,11],[189,30,276,28,"whatsappNumber"],[189,44,276,42],[189,45,276,43,"replace"],[189,52,276,50],[189,53,276,51],[189,56,276,54],[189,58,276,56],[189,60,276,58],[189,61,276,59],[189,70,276,68,"encodeURIComponent"],[189,88,276,86],[189,89,276,87,"message"],[189,96,276,94],[189,97,276,95],[189,99,276,97],[190,4,277,2],[192,4,279,2],[193,0,280,0],[194,0,281,0],[195,4,282,10,"calculateDistance"],[195,21,282,27,"calculateDistance"],[195,22,282,28,"lat1"],[195,26,282,40],[195,28,282,42,"lng1"],[195,32,282,54],[195,34,282,56,"lat2"],[195,38,282,68],[195,40,282,70,"lng2"],[195,44,282,82],[195,46,282,92],[196,6,283,4],[196,12,283,10,"R"],[196,13,283,11],[196,16,283,14],[196,20,283,18],[196,21,283,19],[196,22,283,20],[197,6,284,4],[197,12,284,10,"dLat"],[197,16,284,14],[197,19,284,18],[197,20,284,19,"lat2"],[197,24,284,23],[197,27,284,26,"lat1"],[197,31,284,30],[197,35,284,34,"Math"],[197,39,284,38],[197,40,284,39,"PI"],[197,42,284,41],[197,45,284,45],[197,48,284,48],[198,6,285,4],[198,12,285,10,"dLng"],[198,16,285,14],[198,19,285,18],[198,20,285,19,"lng2"],[198,24,285,23],[198,27,285,26,"lng1"],[198,31,285,30],[198,35,285,34,"Math"],[198,39,285,38],[198,40,285,39,"PI"],[198,42,285,41],[198,45,285,45],[198,48,285,48],[199,6,287,4],[199,12,287,10,"a"],[199,13,287,11],[199,16,288,6,"Math"],[199,20,288,10],[199,21,288,11,"sin"],[199,24,288,14],[199,25,288,15,"dLat"],[199,29,288,19],[199,32,288,22],[199,33,288,23],[199,34,288,24],[199,37,288,27,"Math"],[199,41,288,31],[199,42,288,32,"sin"],[199,45,288,35],[199,46,288,36,"dLat"],[199,50,288,40],[199,53,288,43],[199,54,288,44],[199,55,288,45],[199,58,289,6,"Math"],[199,62,289,10],[199,63,289,11,"cos"],[199,66,289,14],[199,67,289,16,"lat1"],[199,71,289,20],[199,74,289,23,"Math"],[199,78,289,27],[199,79,289,28,"PI"],[199,81,289,30],[199,84,289,34],[199,87,289,37],[199,88,289,38],[199,91,290,8,"Math"],[199,95,290,12],[199,96,290,13,"cos"],[199,99,290,16],[199,100,290,18,"lat2"],[199,104,290,22],[199,107,290,25,"Math"],[199,111,290,29],[199,112,290,30,"PI"],[199,114,290,32],[199,117,290,36],[199,120,290,39],[199,121,290,40],[199,124,291,8,"Math"],[199,128,291,12],[199,129,291,13,"sin"],[199,132,291,16],[199,133,291,17,"dLng"],[199,137,291,21],[199,140,291,24],[199,141,291,25],[199,142,291,26],[199,145,292,8,"Math"],[199,149,292,12],[199,150,292,13,"sin"],[199,153,292,16],[199,154,292,17,"dLng"],[199,158,292,21],[199,161,292,24],[199,162,292,25],[199,163,292,26],[200,6,294,4],[200,12,294,10,"c"],[200,13,294,11],[200,16,294,14],[200,17,294,15],[200,20,294,18,"Math"],[200,24,294,22],[200,25,294,23,"atan2"],[200,30,294,28],[200,31,294,29,"Math"],[200,35,294,33],[200,36,294,34,"sqrt"],[200,40,294,38],[200,41,294,39,"a"],[200,42,294,40],[200,43,294,41],[200,45,294,43,"Math"],[200,49,294,47],[200,50,294,48,"sqrt"],[200,54,294,52],[200,55,294,53],[200,56,294,54],[200,59,294,57,"a"],[200,60,294,58],[200,61,294,59],[200,62,294,60],[201,6,295,4],[201,12,295,10,"distance"],[201,20,295,18],[201,23,295,21,"R"],[201,24,295,22],[201,27,295,25,"c"],[201,28,295,26],[202,6,297,4],[202,13,297,11,"Math"],[202,17,297,15],[202,18,297,16,"round"],[202,23,297,21],[202,24,297,22,"distance"],[202,32,297,30],[202,35,297,33],[202,38,297,36],[202,39,297,37],[202,42,297,40],[202,45,297,43],[203,4,298,2],[204,2,299,0],[205,2,301,7],[205,8,301,13,"aiService"],[205,17,301,22],[205,20,301,25],[205,24,301,29,"AIService"],[205,33,301,38],[205,34,301,39],[205,35,301,40],[206,0,301,41],[206,3]],"functionMap":{"names":["<global>","AIService","AIService#constructor","AIService#setProvider","AIService#getCurrentProvider","AIService#calculateDynamicPrice","AIService#sendMessage","AIService#getHistory","AIService#sendWhatsAppNotification","AIService#createWhatsAppBooking","AIService#generateWhatsAppShareLink","AIService#calculateDistance"],"mappings":"AAA;AC6E;ECG;GDG;EEK;GFG;EGK;GHE;EIK;GJgD;EKK;GLkB;EMK;GNwB;EOK;GPmB;EQK;GR6B;ESK;GTU;EUK;GVgB;CDC"},"hasCjsExports":false},"type":"js/module"}]}